(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{3226:function(module,exports,__webpack_require__){var content=__webpack_require__(3338);"string"==typeof content&&(content=[[module.i,content,""]]),content.locals&&(module.exports=content.locals);(0,__webpack_require__(19).default)("186694ea",content,!0,{sourceMap:!1})},3337:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(3226)},3338:function(module,exports,__webpack_require__){var ___CSS_LOADER_EXPORT___=__webpack_require__(18)(!1);___CSS_LOADER_EXPORT___.push([module.i,"@media (min-width:1024px){.smartphone-only[data-v-64a48637]{display:none!important}}@media (max-width:1023px){.desktop-only[data-v-64a48637]{display:none!important}}.title[data-v-64a48637]{margin:var(--spacer-xl) 0 var(--spacer-base) 0}.log-in__info[data-v-64a48637]{margin:var(--spacer-lg) 0;color:var(--c-link);font:var(--font-weight--light) var(--font-size--base)/1.6 var(--font-family--secondary)}@media (min-width:1024px){.log-in__info[data-v-64a48637]{font-weight:var(--font-weight--normal)}}.log-in__button[data-v-64a48637]{margin:var(--spacer-2xl) 0 var(--spacer-xl) 0}.info[data-v-64a48637]{margin:0 0 var(--spacer-xl) 0}.info__heading[data-v-64a48637]{font-family:var(--font-family--secondary);font-weight:var(--font-weight--normal);margin-bottom:var(--spacer-base)}.info__characteristic[data-v-64a48637]{--characteristic-description-font-size:var(--font-size--base);margin:0 0 var(--spacer-sm) var(--spacer-2xs)}@media (min-width:1024px){.info[data-v-64a48637]{display:flex;flex-wrap:wrap;margin:0}.info__heading[data-v-64a48637]{flex:100%;margin:0 0 var(--spacer-sm) 0;font-size:var(--font-size--xs)}.info__characteristic[data-v-64a48637]{margin:0 0 var(--spacer-base) 0;flex:0 50%}}@media (min-width:1024px){.form[data-v-64a48637]{display:flex;flex-wrap:wrap;align-items:center}}.form__element[data-v-64a48637]{margin:0 0 var(--spacer-xl) 0}@media (min-width:1024px){.form__element[data-v-64a48637]{flex:0 0 100%}}@media (min-width:1024px){.form__element--half[data-v-64a48637]{flex:1 1 50%}}@media (min-width:1024px){.form__element--half-even[data-v-64a48637]{padding:0 0 0 var(--spacer-xl)}}.form__group[data-v-64a48637]{display:flex;align-items:center;margin:var(--spacer-xl) 0 var(--spacer-lg) 0}.form__action[data-v-64a48637]{display:flex;flex-direction:column-reverse;margin:0 0 var(--spacer-sm) 0}@media (min-width:1024px){.form__action[data-v-64a48637]{flex:0 0 100%;flex-direction:row;margin:0}}.form__action-button[data-v-64a48637]{margin:0 0 var(--spacer-sm) 0}@media (min-width:1024px){.form__action-button[data-v-64a48637]{margin:0}}@media (min-width:1024px){.form__back-button[data-v-64a48637]{margin:0 var(--spacer-xl) 0 0}.form__back-button[data-v-64a48637]:hover{color:var(--c-white)}}.form__button[data-v-64a48637]{--button-width:100%}@media (min-width:1024px){.form__button[data-v-64a48637]{--button-width:auto}}.info[data-v-64a48637]{--button-padding:0 var(--spacer);--button-color:var(--c-text-muted);--button-text-decoration:none}.characteristic[data-v-64a48637]{margin:0 0 var(--spacer-xl) 0}.characteristic[data-v-64a48637]:last-child{margin:0}.modal__heading[data-v-64a48637]{margin:0 0 var(--spacer-2xl) 0}.modal__button[data-v-64a48637]{margin:var(--spacer-2xl) 0 0 0}",""]),module.exports=___CSS_LOADER_EXPORT___},3485:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(85),__webpack_require__(45),__webpack_require__(126),__webpack_require__(160),__webpack_require__(161),__webpack_require__(140),__webpack_require__(141),__webpack_require__(61),__webpack_require__(62),__webpack_require__(60);var asyncToGenerator=__webpack_require__(17),defineProperty=__webpack_require__(13),SfInput=__webpack_require__(1796),SfCheckbox=__webpack_require__(3069),SfButton=__webpack_require__(53),SfHeading=__webpack_require__(728),SfModal=__webpack_require__(3087),SfCharacteristic=__webpack_require__(3084),vue_composition_api_esm=__webpack_require__(6),vee_validate_esm=__webpack_require__(416),rules=__webpack_require__(739),composables=__webpack_require__(201),index_es=__webpack_require__(38),lib_index_es=__webpack_require__(15);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){Object(defineProperty.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}Object(vee_validate_esm.c)("required",_objectSpread(_objectSpread({},rules.f),{},{message:"This field is required"})),Object(vee_validate_esm.c)("min",_objectSpread(_objectSpread({},rules.d),{},{message:"The field should have at least {length} characters"})),Object(vee_validate_esm.c)("email",_objectSpread(_objectSpread({},rules.c),{},{message:"Invalid email"}));var Checkout_PersonalDetailsvue_type_script_lang_js_={name:"PersonalDetails",components:{SfInput:SfInput.a,SfCheckbox:SfCheckbox.a,SfButton:SfButton.a,SfHeading:SfHeading.a,SfModal:SfModal.a,SfCharacteristic:SfCharacteristic.a,ValidationObserver:vee_validate_esm.a,ValidationProvider:vee_validate_esm.b},setup:function setup(props,context){var toggleLoginModal=Object(composables.b)().toggleLoginModal,_useUser=Object(index_es.m)(),register=_useUser.register,isAuthenticated=_useUser.isAuthenticated,_useCheckout=Object(index_es.i)(),loadDetails=_useCheckout.loadDetails,personalDetails=_useCheckout.personalDetails,setPersonalDetails=_useCheckout.setPersonalDetails,loading=_useCheckout.loading,accountBenefits=Object(vue_composition_api_esm.ref)(!1),createAccount=Object(vue_composition_api_esm.ref)(!1);Object(lib_index_es.onSSR)(Object(asyncToGenerator.a)(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,loadDetails();case 2:case"end":return _context.stop()}}),_callee)}))));var handleFormSubmit=function(){var _ref2=Object(asyncToGenerator.a)(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!createAccount.value){_context2.next=5;break}return _context2.next=3,register({user:personalDetails.value});case 3:return context.root.$router.push("/checkout/shipping"),_context2.abrupt("return");case 5:return _context2.next=7,setPersonalDetails(personalDetails.value,{save:!0});case 7:context.root.$router.push("/checkout/shipping");case 8:case"end":return _context2.stop()}}),_callee2)})));return function handleFormSubmit(){return _ref2.apply(this,arguments)}}();return Object(vue_composition_api_esm.watch)(isAuthenticated,(function(){isAuthenticated.value&&context.root.$router.push("/checkout/shipping")})),{loading:loading,personalDetails:personalDetails,accountBenefits:accountBenefits,createAccount:createAccount,setPersonalDetails:setPersonalDetails,handleFormSubmit:handleFormSubmit,toggleLoginModal:toggleLoginModal,characteristics:[{description:"Faster checkout",icon:"clock"},{description:"Full rewards program benefits",icon:"rewards"},{description:"Earn credits with every purchase",icon:"credits"},{description:"Manage your wishliste",icon:"heart"}]}}},componentNormalizer=(__webpack_require__(3337),__webpack_require__(3));const __vuedocgen_export_0=Object(componentNormalizer.a)(Checkout_PersonalDetailsvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"log-in desktop-only"},[_c("SfButton",{staticClass:"log-in__button color-secondary",on:{click:_vm.toggleLoginModal}},[_vm._v("\n      "+_vm._s(_vm.$t("Log into your account"))+"\n    ")]),_vm._v(" "),_c("p",{staticClass:"log-in__info"},[_vm._v(_vm._s(_vm.$t("or fill the details below"))+":")])],1),_vm._v(" "),_c("SfHeading",{staticClass:"sf-heading--left sf-heading--no-underline title",attrs:{level:3,title:"Personal details"}}),_vm._v(" "),_c("ValidationObserver",{scopedSlots:_vm._u([{key:"default",fn:function(ref){var handleSubmit=ref.handleSubmit;return[_c("form",{staticClass:"form",on:{submit:function($event){return $event.preventDefault(),handleSubmit(_vm.handleFormSubmit)}}},[_c("ValidationProvider",{attrs:{name:"firstName",rules:"required|min:2",slim:""},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("SfInput",{staticClass:"form__element form__element--half",attrs:{value:_vm.personalDetails.firstName,label:"First name",name:"firstName",required:"",valid:!errors[0],errorMessage:errors[0]},on:{input:function(firstName){return _vm.setPersonalDetails({firstName:firstName})}}})]}}],null,!0)}),_vm._v(" "),_c("ValidationProvider",{attrs:{name:"lastName",rules:"required|min:2",slim:""},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("SfInput",{staticClass:"form__element form__element--half form__element--half-even",attrs:{value:_vm.personalDetails.lastName,label:"Last name",name:"lastName",required:"",valid:!errors[0],errorMessage:errors[0]},on:{input:function(lastName){return _vm.setPersonalDetails({lastName:lastName})}}})]}}],null,!0)}),_vm._v(" "),_c("ValidationProvider",{attrs:{name:"email",rules:"required|email",slim:""},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("SfInput",{staticClass:"form__element",attrs:{value:_vm.personalDetails.email,label:"Your email",name:"email",required:"",valid:!errors[0],errorMessage:errors[0]},on:{input:function(email){return _vm.setPersonalDetails({email:email})}}})]}}],null,!0)}),_vm._v(" "),_c("div",{staticClass:"info"},[_c("p",{staticClass:"info__heading"},[_vm._v("\n          "+_vm._s(_vm.$t("Enjoy your free account"))+"\n        ")]),_vm._v(" "),_vm._l(_vm.characteristics,(function(characteristic,key){return _c("SfCharacteristic",{key:key,staticClass:"info__characteristic",attrs:{description:characteristic.description,icon:characteristic.icon,"size-icon":"1rem"}})}))],2),_vm._v(" "),_c("div",{staticClass:"form__element form__group"},[_c("SfCheckbox",{attrs:{name:"createAccount",label:"I want to create an account"},model:{value:_vm.createAccount,callback:function($$v){_vm.createAccount=$$v},expression:"createAccount"}})],1),_vm._v(" "),_c("transition",{attrs:{name:"fade"}},[_vm.createAccount?_c("ValidationProvider",{attrs:{name:"email",rules:"required",slim:""},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("SfInput",{staticClass:"form__element",attrs:{value:_vm.personalDetails.password,type:"password",label:"Create Password",required:"",valid:!errors[0],errorMessage:errors[0]},on:{input:function(password){return _vm.setPersonalDetails({password:password})}}})]}}],null,!0)}):_vm._e()],1),_vm._v(" "),_c("div",{staticClass:"form__action"},[_c("nuxt-link",{staticClass:"sf-button color-secondary form__back-button",attrs:{to:"/"}},[_vm._v(_vm._s(_vm.$t("Go back")))]),_vm._v(" "),_c("SfButton",{staticClass:"form__action-button",attrs:{type:"submit",disabled:_vm.loading.personalDetails}},[_vm._v("\n          "+_vm._s(_vm.$t("Continue to shipping"))+"\n        ")])],1)],1)]}}])})],1)}),[],!1,null,"64a48637",null).exports;__webpack_exports__.default=__vuedocgen_export_0;__vuedocgen_export_0.__docgenInfo={displayName:"PersonalDetails",exportName:"default",description:"",tags:{}}}}]);
//# sourceMappingURL=30.e42571918c486c07d047.bundle.js.map