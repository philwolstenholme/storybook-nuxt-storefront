(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{3100:function(module,exports,__webpack_require__){var content=__webpack_require__(3124);"string"==typeof content&&(content=[[module.i,content,""]]),content.locals&&(module.exports=content.locals);(0,__webpack_require__(19).default)("0e1bdcd4",content,!0,{sourceMap:!1})},3123:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(3100)},3124:function(module,exports,__webpack_require__){var ___CSS_LOADER_EXPORT___=__webpack_require__(18)(!1);___CSS_LOADER_EXPORT___.push([module.i,"@media (min-width:1024px){.smartphone-only{display:none!important}}@media (max-width:1023px){.desktop-only{display:none!important}}.sf-table{box-sizing:border-box;width:100%;width:var(--table-width,100%);border:none;border-spacing:0;border-spacing:var(--table-border-spacing,0)}.sf-table__heading,.sf-table__row{box-sizing:border-box;display:flex;flex-wrap:wrap}.sf-table__heading{align-items:center;padding:var(--table-heading-padding,var(--spacer-sm) 0);background-color:transparent;background-color:var(--table-heading-background,transparent);border:var(--table-border-heading,var(--table-border-heading-style,solid) var(--table-border-heading-color,var(--c-primary)));border-width:0 0 2px;border-width:var(--table-border-heading-width,0 0 2px 0)}.sf-table__header{font:var(--font-weight--normal) var(--font-size--base)/1.4 var(--font-family--secondary);font:var(--table-header-font,var(--table-header-font-weight,var(--font-weight--normal)) var(--table-header-font-size,var(--font-size--base))/var(--table-header-font-line-height,1.4) var(--table-header-font-family,var(--font-family--secondary)));color:var(--c-text);color:var(--table-header-color,var(--c-text))}.sf-table__row{padding:var(--table-row-padding,var(--spacer-xs) 0);background-color:var(--table-row-background);box-shadow:var(--table-row-box-shadow);border:var(--table-row-border,var(--table-row-border-style,solid) var(--table-row-border-color,var(--c-light)));border-width:0 0 2px;border-width:var(--table-row-border-width,0 0 2px 0)}.sf-table__data{color:var(--c-dark-variant);color:var(--table-data-color,var(--c-dark-variant));font:var(--font-weight--normal) var(--font-size--base)/1.6 var(--font-family--secondary);font:var(--table-data-font,var(--table-data-font-weight,var(--font-weight--normal)) var(--table-data-font-size,var(--font-size--base))/var(--table-data-font-line-height,1.6) var(--table-data-font-family,var(--font-family--secondary)))}.sf-table__data,.sf-table__header{box-sizing:border-box;flex:0 0 calc(100%/var(--_table-column-width));flex:var(--table-column-flex,0 0 calc(100%/var(--_table-column-width)));padding:0;padding:var(--table-column-padding,0);text-align:left;text-align:var(--table-column-text-align,left)}.sf-table__data:nth-child(2n),.sf-table__header:nth-child(2n){order:1;order:var(--_table-column-order,1)}.sf-table--no-border{--table-row-border-width:0}@media (min-width:1024px){.sf-table{--table-row-padding:var(--spacer-sm) var(--spacer-sm);--table-heading-padding:var(--spacer-sm) var(--spacer-sm);--table-heading-background:transparent;--table-column-flex:1;--_table-column-order:0;--table-header-font-weight:var(--font-weight--normal)}.sf-table--no-border{--table-row-border-width:0}.sf-table__row:hover{--table-row-box-shadow:0px 4px 11px rgba(29,31,34,0.1)}}",""]),module.exports=___CSS_LOADER_EXPORT___},3139:function(module,exports,__webpack_require__){var content=__webpack_require__(3206);"string"==typeof content&&(content=[[module.i,content,""]]),content.locals&&(module.exports=content.locals);(0,__webpack_require__(19).default)("112d2ed9",content,!0,{sourceMap:!1})},3205:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(3139)},3206:function(module,exports,__webpack_require__){var ___CSS_LOADER_EXPORT___=__webpack_require__(18)(!1);___CSS_LOADER_EXPORT___.push([module.i,"@media (min-width:1024px){.smartphone-only[data-v-6ca559e1]{display:none!important}}@media (max-width:1023px){.desktop-only[data-v-6ca559e1]{display:none!important}}.no-orders__title[data-v-6ca559e1]{margin:0 0 var(--spacer-lg) 0;font:var(--font-weight--normal) var(--font-size--base)/1.6 var(--font-family--primary)}.no-orders__button[data-v-6ca559e1]{--button-width:100%}@media (min-width:1024px){.no-orders__button[data-v-6ca559e1]{--button-width:17,5rem}}@media (min-width:1024px){.orders__element--right[data-v-6ca559e1]{--table-column-flex:0;text-align:right}}.all-orders[data-v-6ca559e1]{--button-padding:var(--spacer-base) 0}.message[data-v-6ca559e1]{margin:0 0 var(--spacer-xl) 0;font:var(--font-weight--light) var(--font-size--base)/1.6 var(--font-family--primary)}.message__link[data-v-6ca559e1]{color:var(--c-primary);font-weight:var(--font-weight--medium);font-family:var(--font-family--primary);font-size:var(--font-size--base);text-decoration:none}.message__link[data-v-6ca559e1]:hover{color:var(--c-text)}.product__properties[data-v-6ca559e1]{margin:var(--spacer-xl) 0 0 0}.product__action[data-v-6ca559e1],.product__property[data-v-6ca559e1]{font-size:var(--font-size--sm)}.product__action[data-v-6ca559e1]{color:var(--c-gray-variant);margin:0 0 var(--spacer-sm) 0}.product__action[data-v-6ca559e1]:last-child{margin:0}.product__qty[data-v-6ca559e1]{color:var(--c-text)}.products[data-v-6ca559e1]{--table-column-flex:1}.products__name[data-v-6ca559e1]{margin-right:var(--spacer-sm)}@media (min-width:1024px){.products__name[data-v-6ca559e1]{--table-column-flex:2}}.highlighted[data-v-6ca559e1]{box-sizing:border-box;width:100%;background-color:var(--c-light);padding:var(--spacer-sm);--property-value-font-size:var(--font-size--base);--property-name-font-size:var(--font-size--base)}.highlighted[data-v-6ca559e1]:last-child{margin-bottom:0}.highlighted[data-v-6ca559e1]  .sf-property__name{white-space:nowrap}.highlighted[data-v-6ca559e1]  .sf-property__value{text-align:right}.highlighted--total[data-v-6ca559e1]{margin-bottom:var(--spacer-sm)}@media (min-width:1024px){.highlighted[data-v-6ca559e1]{padding:var(--spacer-xl);--property-name-font-size:var(--font-size--lg);--property-name-font-weight:var(--font-weight--medium);--property-value-font-size:var(--font-size--lg);--property-value-font-weight:var(--font-weight--semibold)}}",""]),module.exports=___CSS_LOADER_EXPORT___},3305:function(module,__webpack_exports__,__webpack_require__){"use strict";var vue_esm=__webpack_require__(8),_internal_SfTableRowvue_type_script_lang_js_=(__webpack_require__(738),{name:"SfTableRow",inject:["table"],mounted:function mounted(){this.$slots.default&&this.table.updateColumnsCount(this.$slots.default.filter((function(node){return node.tag})).length)}}),componentNormalizer=__webpack_require__(3);const __vuedocgen_export_0=Object(componentNormalizer.a)(_internal_SfTableRowvue_type_script_lang_js_,(function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("tbody",[_c("tr",{staticClass:"sf-table__row"},[this._t("default")],2)])}),[],!1,null,null,null).exports;var SfTableRow=__vuedocgen_export_0;__vuedocgen_export_0.__docgenInfo={displayName:"SfTableRow",exportName:"default",description:"",tags:{},slots:[{name:"default"}]};var _internal_SfTableDatavue_type_script_lang_js_={name:"SfTableData"};const SfTableData_vuedocgen_export_0=Object(componentNormalizer.a)(_internal_SfTableDatavue_type_script_lang_js_,(function(){var _h=this.$createElement;return(this._self._c||_h)("td",{staticClass:"sf-table__data"},[this._t("default")],2)}),[],!1,null,null,null).exports;var SfTableData=SfTableData_vuedocgen_export_0;SfTableData_vuedocgen_export_0.__docgenInfo={displayName:"SfTableData",exportName:"default",description:"",tags:{},slots:[{name:"default"}]};var _internal_SfTableHeadervue_type_script_lang_js_={name:"SfTableHeader"};const SfTableHeader_vuedocgen_export_0=Object(componentNormalizer.a)(_internal_SfTableHeadervue_type_script_lang_js_,(function(){var _h=this.$createElement;return(this._self._c||_h)("th",{staticClass:"sf-table__header"},[this._t("default")],2)}),[],!1,null,null,null).exports;var SfTableHeader=SfTableHeader_vuedocgen_export_0;SfTableHeader_vuedocgen_export_0.__docgenInfo={displayName:"SfTableHeader",exportName:"default",description:"",tags:{},slots:[{name:"default"}]};var _internal_SfTableHeadingvue_type_script_lang_js_={name:"SfTableHeading",inject:["table"],mounted:function mounted(){this.$slots.default&&this.table.updateColumnsCount(this.$slots.default.filter((function(node){return node.tag})).length)}};const SfTableHeading_vuedocgen_export_0=Object(componentNormalizer.a)(_internal_SfTableHeadingvue_type_script_lang_js_,(function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("thead",[_c("tr",{staticClass:"sf-table__heading"},[this._t("default")],2)])}),[],!1,null,null,null).exports;var SfTableHeading=SfTableHeading_vuedocgen_export_0;SfTableHeading_vuedocgen_export_0.__docgenInfo={displayName:"SfTableHeading",exportName:"default",description:"",tags:{},slots:[{name:"default"}]},vue_esm.default.component("SfTableRow",SfTableRow),vue_esm.default.component("SfTableData",SfTableData),vue_esm.default.component("SfTableHeader",SfTableHeader),vue_esm.default.component("SfTableHeading",SfTableHeading);var SfTable_SfTablevue_type_script_lang_js_={name:"SfTable",provide:function provide(){var table={};return Object.defineProperty(table,"updateColumnsCount",{value:this.updateColumnsCount}),{table:table}},methods:{updateColumnsCount:function updateColumnsCount(columnsCount){this.$el.style.setProperty("--_table-column-width",Math.ceil(columnsCount/2))}}};__webpack_require__(3123);const SfTable_vuedocgen_export_0=Object(componentNormalizer.a)(SfTable_SfTablevue_type_script_lang_js_,(function(){var _h=this.$createElement;return(this._self._c||_h)("table",{staticClass:"sf-table"},[this._t("default")],2)}),[],!1,null,null,null).exports;__webpack_exports__.a=SfTable_vuedocgen_export_0;SfTable_vuedocgen_export_0.__docgenInfo={displayName:"SfTable",exportName:"default",description:"",tags:{},slots:[{name:"default"}]}},3309:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(203),__webpack_require__(24),__webpack_require__(95),__webpack_require__(71),__webpack_require__(540),__webpack_require__(72),__webpack_require__(1141),__webpack_require__(60);var asyncToGenerator=__webpack_require__(17),SfTabs=__webpack_require__(3477),SfTable=__webpack_require__(3305),SfButton=__webpack_require__(53),SfProperty=__webpack_require__(1795),vue_composition_api_esm=__webpack_require__(6),index_es=__webpack_require__(38),lib_index_es=__webpack_require__(15),MyAccount_OrderHistoryvue_type_script_lang_js_={name:"PersonalDetails",components:{SfTabs:SfTabs.a,SfTable:SfTable.a,SfButton:SfButton.a,SfProperty:SfProperty.a},setup:function setup(){var _useUserOrders=Object(index_es.o)(),orders=_useUserOrders.orders,search=_useUserOrders.search,currentOrder=Object(vue_composition_api_esm.ref)(null);Object(lib_index_es.onSSR)(Object(asyncToGenerator.a)(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,search();case 2:case"end":return _context.stop()}}),_callee)}))));var downloadFile=function downloadFile(file,name){var a=document.createElement("a");document.body.appendChild(a),a.style="display: none";var url=window.URL.createObjectURL(file);a.href=url,a.download=name,a.click(),window.URL.revokeObjectURL(url)},downloadOrders=function(){var _ref2=Object(asyncToGenerator.a)(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:downloadFile(new Blob([JSON.stringify(orders.value)],{type:"application/json"}),"orders.json");case 1:case"end":return _context2.stop()}}),_callee2)})));return function downloadOrders(){return _ref2.apply(this,arguments)}}(),downloadOrder=function(){var _ref3=Object(asyncToGenerator.a)(regeneratorRuntime.mark((function _callee3(order){return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:downloadFile(new Blob([JSON.stringify(order)],{type:"application/json"}),"order "+index_es.e.getId(order)+".json");case 1:case"end":return _context3.stop()}}),_callee3)})));return function downloadOrder(_x){return _ref3.apply(this,arguments)}}();return{tableHeaders:["Order ID","Payment date","Amount","Status"],orders:Object(vue_composition_api_esm.computed)((function(){return orders?orders.value:[]})),getStatusTextClass:function getStatusTextClass(order){switch(index_es.e.getStatus(order)){case lib_index_es.AgnosticOrderStatus.Open:return"text-warning";case lib_index_es.AgnosticOrderStatus.Complete:return"text-success";default:return""}},orderGetters:index_es.e,downloadOrder:downloadOrder,downloadOrders:downloadOrders,currentOrder:currentOrder}}},componentNormalizer=(__webpack_require__(3205),__webpack_require__(3));const __vuedocgen_export_0=Object(componentNormalizer.a)(MyAccount_OrderHistoryvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("SfTabs",{attrs:{"open-tab":1}},[_c("SfTab",{attrs:{"data-cy":"order-history-tab_my-orders",title:"My orders"}},[_vm.currentOrder?_c("div",[_c("SfButton",{staticClass:"sf-button--text all-orders",attrs:{"data-cy":"order-history-btn_orders"},on:{click:function($event){_vm.currentOrder=null}}},[_vm._v("All Orders")]),_vm._v(" "),_c("div",{staticClass:"highlighted highlighted--total"},[_c("SfProperty",{staticClass:"sf-property--full-width property",attrs:{name:"Order ID",value:_vm.orderGetters.getId(_vm.currentOrder)}}),_vm._v(" "),_c("SfProperty",{staticClass:"sf-property--full-width property",attrs:{name:"Date",value:_vm.orderGetters.getDate(_vm.currentOrder)}}),_vm._v(" "),_c("SfProperty",{staticClass:"sf-property--full-width property",attrs:{name:"Status",value:_vm.orderGetters.getStatus(_vm.currentOrder)}}),_vm._v(" "),_c("SfProperty",{staticClass:"sf-property--full-width property",attrs:{name:"Total",value:_vm.$n(_vm.orderGetters.getPrice(_vm.currentOrder),"currency")}})],1),_vm._v(" "),_c("SfTable",{staticClass:"products"},[_c("SfTableHeading",[_c("SfTableHeader",{staticClass:"products__name"},[_vm._v(_vm._s(_vm.$t("Product")))]),_vm._v(" "),_c("SfTableHeader",[_vm._v(_vm._s(_vm.$t("Quantity")))]),_vm._v(" "),_c("SfTableHeader",[_vm._v(_vm._s(_vm.$t("Price")))])],1),_vm._v(" "),_vm._l(_vm.orderGetters.getItems(_vm.currentOrder),(function(item,i){return _c("SfTableRow",{key:i},[_c("SfTableData",{staticClass:"products__name"},[_c("nuxt-link",{attrs:{to:"/p/"+_vm.orderGetters.getItemSku(item)+"/"+_vm.orderGetters.getItemSku(item)}},[_vm._v("\n              "+_vm._s(_vm.orderGetters.getItemName(item))+"\n            ")])],1),_vm._v(" "),_c("SfTableData",[_vm._v(_vm._s(_vm.orderGetters.getItemQty(item)))]),_vm._v(" "),_c("SfTableData",[_vm._v(_vm._s(_vm.$n(_vm.orderGetters.getItemPrice(item),"currency")))])],1)}))],2)],1):_c("div",[_c("p",{staticClass:"message"},[_vm._v("\n        "+_vm._s(_vm.$t("Details and status orders"))+"\n      ")]),_vm._v(" "),0===_vm.orders.length?_c("div",{staticClass:"no-orders"},[_c("p",{staticClass:"no-orders__title"},[_vm._v(_vm._s(_vm.$t("You currently have no orders")))]),_vm._v(" "),_c("SfButton",{staticClass:"no-orders__button",attrs:{"data-cy":"order-history-btn_start"}},[_vm._v(_vm._s(_vm.$t("Start shopping")))])],1):_c("SfTable",{staticClass:"orders"},[_c("SfTableHeading",[_vm._l(_vm.tableHeaders,(function(tableHeader){return _c("SfTableHeader",{key:tableHeader},[_vm._v(_vm._s(tableHeader))])})),_vm._v(" "),_c("SfTableHeader",{staticClass:"orders__element--right"},[_c("span",{staticClass:"smartphone-only"},[_vm._v(_vm._s(_vm.$t("Download")))]),_vm._v(" "),_c("SfButton",{staticClass:"desktop-only sf-button--text orders__download-all",attrs:{"data-cy":"order-history-btn_download-all"},on:{click:function($event){return _vm.downloadOrders()}}},[_vm._v("\n              "+_vm._s(_vm.$t("Download all"))+"\n            ")])],1)],2),_vm._v(" "),_vm._l(_vm.orders,(function(order){return _c("SfTableRow",{key:_vm.orderGetters.getId(order)},[_c("SfTableData",[_vm._v(_vm._s(_vm.orderGetters.getId(order)))]),_vm._v(" "),_c("SfTableData",[_vm._v(_vm._s(_vm.orderGetters.getDate(order)))]),_vm._v(" "),_c("SfTableData",[_vm._v(_vm._s(_vm.$n(_vm.orderGetters.getPrice(order),"currency")))]),_vm._v(" "),_c("SfTableData",[_c("span",{class:_vm.getStatusTextClass(order)},[_vm._v(_vm._s(_vm.orderGetters.getStatus(order)))])]),_vm._v(" "),_c("SfTableData",{staticClass:"orders__view orders__element--right"},[_c("SfButton",{staticClass:"sf-button--text smartphone-only",attrs:{"data-cy":"order-history-btn_download"},on:{click:function($event){return _vm.downloadOrder(order)}}},[_vm._v("\n              "+_vm._s(_vm.$t("Download"))+"\n            ")]),_vm._v(" "),_c("SfButton",{staticClass:"sf-button--text desktop-only",attrs:{"data-cy":"order-history-btn_view"},on:{click:function($event){_vm.currentOrder=order}}},[_vm._v("\n              "+_vm._s(_vm.$t("View details"))+"\n            ")])],1)],1)}))],2)],1)]),_vm._v(" "),_c("SfTab",{attrs:{"data-cy":"order-history-tab_returns",title:"Returns"}},[_c("p",{staticClass:"message"},[_vm._v("\n      This feature is not implemented yet! Please take a look at\n      "),_c("br"),_vm._v(" "),_c("SfLink",{staticClass:"message__link",attrs:{href:"#"}},[_vm._v("https://github.com/DivanteLtd/vue-storefront/issues")]),_vm._v("\n      for our Roadmap!\n    ")],1)])],1)}),[],!1,null,"6ca559e1",null).exports;__webpack_exports__.default=__vuedocgen_export_0;__vuedocgen_export_0.__docgenInfo={displayName:"PersonalDetails",exportName:"default",description:"",tags:{}}}}]);
//# sourceMappingURL=OrderHistory.e42571918c486c07d047.bundle.js.map