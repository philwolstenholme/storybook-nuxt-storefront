(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{3291:function(module,exports,__webpack_require__){var content=__webpack_require__(3446);"string"==typeof content&&(content=[[module.i,content,""]]),content.locals&&(module.exports=content.locals);(0,__webpack_require__(19).default)("d9e1b57a",content,!0,{sourceMap:!1})},3292:function(module,exports,__webpack_require__){var content=__webpack_require__(3448);"string"==typeof content&&(content=[[module.i,content,""]]),content.locals&&(module.exports=content.locals);(0,__webpack_require__(19).default)("c71de9a8",content,!0,{sourceMap:!1})},3293:function(module,exports,__webpack_require__){var content=__webpack_require__(3450);"string"==typeof content&&(content=[[module.i,content,""]]),content.locals&&(module.exports=content.locals);(0,__webpack_require__(19).default)("24c329c1",content,!0,{sourceMap:!1})},3445:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(3291)},3446:function(module,exports,__webpack_require__){var ___CSS_LOADER_EXPORT___=__webpack_require__(18)(!1);___CSS_LOADER_EXPORT___.push([module.i,"@media (min-width:1024px){.smartphone-only[data-v-94ba0988]{display:none!important}}@media (max-width:1023px){.desktop-only[data-v-94ba0988]{display:none!important}}p[data-v-94ba0988]{margin:0}.phone[data-v-94ba0988]{margin-top:var(--spacer-base)}",""]),module.exports=___CSS_LOADER_EXPORT___},3447:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(3292)},3448:function(module,exports,__webpack_require__){var ___CSS_LOADER_EXPORT___=__webpack_require__(18)(!1);___CSS_LOADER_EXPORT___.push([module.i,"@media (min-width:1024px){.smartphone-only[data-v-31605a0b]{display:none!important}}@media (max-width:1023px){.desktop-only[data-v-31605a0b]{display:none!important}}.form__element[data-v-31605a0b]{display:block;margin-bottom:var(--spacer-base)}.form__select[data-v-31605a0b]{display:flex;align-items:center;--select-option-font-size:var(--font-size--lg)}.form__select[data-v-31605a0b]  .sf-select__dropdown{font-size:var(--font-size--lg);margin:0;font-family:var(--font-family--secondary);font-weight:var(--font-weight--normal)}.form__button[data-v-31605a0b]{display:block;margin-top:var(--spacer-lg)}@media (min-width:1024px){.form__horizontal[data-v-31605a0b]{display:flex;flex-direction:row;justify-content:space-between}}@media (min-width:1024px){.form__horizontal .form__element[data-v-31605a0b]{flex:1;margin-right:var(--spacer-lg)}}.form__horizontal .form__element[data-v-31605a0b]:last-child{margin-right:0}",""]),module.exports=___CSS_LOADER_EXPORT___},3449:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(3293)},3450:function(module,exports,__webpack_require__){var ___CSS_LOADER_EXPORT___=__webpack_require__(18)(!1);___CSS_LOADER_EXPORT___.push([module.i,"@media (min-width:1024px){.smartphone-only[data-v-70ca9a82]{display:none!important}}@media (max-width:1023px){.desktop-only[data-v-70ca9a82]{display:none!important}}.message[data-v-70ca9a82]{font-family:var(--font-family--primary);line-height:1.6;font-size:var(--font-size--base);margin:0 0 var(--spacer-base)}.billing-list[data-v-70ca9a82]{margin-bottom:var(--spacer-base)}.billing[data-v-70ca9a82]{display:flex;padding:var(--spacer-xl) 0;border-top:1px solid var(--c-light)}.billing[data-v-70ca9a82]:last-child{border-bottom:1px solid var(--c-light)}.billing__content[data-v-70ca9a82]{flex:1;color:var(--c-text);font-size:var(--font-size--base);font-weight:300;line-height:1.6}.billing__actions[data-v-70ca9a82]{flex:1;display:flex;flex-direction:column;justify-content:space-between;align-items:flex-end}@media (min-width:1024px){.billing__actions[data-v-70ca9a82]{flex-direction:row;align-items:center;justify-content:flex-end}}.billing__button-delete[data-v-70ca9a82]{color:var(--c-link)}@media (min-width:1024px){.billing__button-delete[data-v-70ca9a82]{margin-left:var(--spacer-base)}}.billing__address[data-v-70ca9a82],.billing__address p[data-v-70ca9a82]{margin:0}.billing__client-name[data-v-70ca9a82]{font-size:var(--font-size--base);font-weight:500}.action-button[data-v-70ca9a82]{width:100%}@media (min-width:1024px){.action-button[data-v-70ca9a82]{width:auto}}@media (max-width:1023px){.tab-orphan[data-v-70ca9a82]  .sf-tabs__title{display:none}.tab-orphan[data-v-70ca9a82]  .sf-tabs__content{border:0;padding:0}}",""]),module.exports=___CSS_LOADER_EXPORT___},3470:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(60);var asyncToGenerator=__webpack_require__(17),SfTabs=__webpack_require__(3477),SfButton=__webpack_require__(53),SfIcon=__webpack_require__(41),vue_composition_api_esm=(__webpack_require__(45),__webpack_require__(255),__webpack_require__(256),__webpack_require__(86),__webpack_require__(6)),index_es=__webpack_require__(15),components_UserBillingAddressvue_type_script_lang_js_={props:{address:{type:Object,required:!0}},setup:function setup(props){var config=Object(index_es.useVSFContext)().$ct.config,address=Object(vue_composition_api_esm.toRef)(props,"address");return{street:Object(vue_composition_api_esm.computed)((function(){return[address.streetName,address.streetNumber&&" ".concat(address.streetNumber),address.apartment&&", Apartment ".concat(address.apartment)].filter(Boolean).join("")})),country:Object(vue_composition_api_esm.computed)((function(){var _config$countries$fin,country=address.country;return(null===(_config$countries$fin=config.countries.find((function(c){return c.name===country})))||void 0===_config$countries$fin?void 0:_config$countries$fin.label)||country}))}}},componentNormalizer=(__webpack_require__(3445),__webpack_require__(3));const __vuedocgen_export_0=Object(componentNormalizer.a)(components_UserBillingAddressvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("p",[_vm._v(_vm._s(_vm.address.firstName)+" "+_vm._s(_vm.address.lastName))]),_vm._v(" "),_c("p",[_vm._v(_vm._s(_vm.street))]),_vm._v(" "),_c("p",[_vm._v("\n    "+_vm._s(_vm.address.city)+"\n    "+_vm._s(_vm.address.state)+"\n    "+_vm._s(_vm.address.postalCode)+"\n  ")]),_vm._v(" "),_c("p",[_vm._v(_vm._s(_vm.country))]),_vm._v(" "),_vm.address.phone?_c("p",{staticClass:"phone"},[_vm._v(_vm._s(_vm.address.phone))]):_vm._e()])}),[],!1,null,"94ba0988",null).exports;var UserBillingAddress=__vuedocgen_export_0;__vuedocgen_export_0.__docgenInfo={exportName:"default",displayName:"UserBillingAddress",description:"",tags:{},props:[{name:"address",type:{name:"object"},required:!0}]};__webpack_require__(85),__webpack_require__(126),__webpack_require__(160),__webpack_require__(161),__webpack_require__(140),__webpack_require__(141),__webpack_require__(61),__webpack_require__(62);var defineProperty=__webpack_require__(13),SfInput=__webpack_require__(1796),SfSelect=__webpack_require__(3080),SfCheckbox=__webpack_require__(3069),rules=__webpack_require__(739),vee_validate_esm=__webpack_require__(416);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){Object(defineProperty.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}Object(vee_validate_esm.c)("required",_objectSpread(_objectSpread({},rules.f),{},{message:"This field is required"})),Object(vee_validate_esm.c)("min",_objectSpread(_objectSpread({},rules.d),{},{message:"The field should have at least {length} characters"})),Object(vee_validate_esm.c)("oneOf",_objectSpread(_objectSpread({},rules.e),{},{message:"Invalid country"}));var MyAccount_BillingAddressFormvue_type_script_lang_js_={name:"BillingAddressForm",components:{SfInput:SfInput.a,SfButton:SfButton.a,SfSelect:SfSelect.a,SfCheckbox:SfCheckbox.a,ValidationProvider:vee_validate_esm.b,ValidationObserver:vee_validate_esm.a},props:{address:{type:Object,default:function _default(){return{id:void 0,firstName:"",lastName:"",streetName:"",apartment:"",city:"",state:"",postalCode:"",country:"",phone:"",isDefault:!1}}},isNew:{type:Boolean,required:!0}},setup:function setup(props,_ref){var emit=_ref.emit,config=Object(index_es.useVSFContext)().$ct.config,form=Object(vue_composition_api_esm.reactive)({id:props.address.id,firstName:props.address.firstName,lastName:props.address.lastName,streetName:props.address.streetName,apartment:props.address.apartment,city:props.address.city,state:props.address.state,postalCode:props.address.postalCode,country:props.address.country,phone:props.address.phone,isDefault:props.address.isDefault});return{form:form,submitForm:function submitForm(){emit("submit",{form:form,onComplete:function onComplete(){},onError:function onError(){}})},countries:config.countries}}};__webpack_require__(3447);const BillingAddressForm_vuedocgen_export_0=Object(componentNormalizer.a)(MyAccount_BillingAddressFormvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("ValidationObserver",{scopedSlots:_vm._u([{key:"default",fn:function(ref){var handleSubmit=ref.handleSubmit;return[_c("form",{staticClass:"form",attrs:{id:"billing-details-form"},on:{submit:function($event){return $event.preventDefault(),handleSubmit(_vm.submitForm)}}},[_c("div",{staticClass:"form__horizontal"},[_c("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|min:2"},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("SfInput",{attrs:{"data-cy":"billing-details-input_firstName",name:"firstName",label:"First Name",required:"",valid:!errors[0],errorMessage:errors[0]},model:{value:_vm.form.firstName,callback:function($$v){_vm.$set(_vm.form,"firstName",$$v)},expression:"form.firstName"}})]}}],null,!0)}),_vm._v(" "),_c("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|min:2"},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("SfInput",{attrs:{"data-cy":"billing-details-input_lastName",name:"lastName",label:"Last Name",required:"",valid:!errors[0],errorMessage:errors[0]},model:{value:_vm.form.lastName,callback:function($$v){_vm.$set(_vm.form,"lastName",$$v)},expression:"form.lastName"}})]}}],null,!0)})],1),_vm._v(" "),_c("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|min:5"},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("SfInput",{attrs:{"data-cy":"billing-details-input_streetName",name:"streetName",label:"Street Name",required:"",valid:!errors[0],errorMessage:errors[0]},model:{value:_vm.form.streetName,callback:function($$v){_vm.$set(_vm.form,"streetName",$$v)},expression:"form.streetName"}})]}}],null,!0)}),_vm._v(" "),_c("SfInput",{staticClass:"form__element",attrs:{"data-cy":"billing-details-input_apartment",name:"apartment",label:"House/Apartment number",required:""},model:{value:_vm.form.apartment,callback:function($$v){_vm.$set(_vm.form,"apartment",$$v)},expression:"form.apartment"}}),_vm._v(" "),_c("div",{staticClass:"form__horizontal"},[_c("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|min:2"},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("SfInput",{attrs:{"data-cy":"billing-details-input_city",name:"city",label:"City",required:"",valid:!errors[0],errorMessage:errors[0]},model:{value:_vm.form.city,callback:function($$v){_vm.$set(_vm.form,"city",$$v)},expression:"form.city"}})]}}],null,!0)}),_vm._v(" "),_c("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|min:2"},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("SfInput",{attrs:{"data-cy":"billing-details-input_state",name:"state",label:"State/Province",required:"",valid:!errors[0],errorMessage:errors[0]},model:{value:_vm.form.state,callback:function($$v){_vm.$set(_vm.form,"state",$$v)},expression:"form.state"}})]}}],null,!0)})],1),_vm._v(" "),_c("div",{staticClass:"form__horizontal"},[_c("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|min:4"},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("SfInput",{attrs:{"data-cy":"billing-details-input_zipCode",name:"zipCode",label:"Zip-code",required:"",valid:!errors[0],errorMessage:errors[0]},model:{value:_vm.form.postalCode,callback:function($$v){_vm.$set(_vm.form,"postalCode",$$v)},expression:"form.postalCode"}})]}}],null,!0)}),_vm._v(" "),_c("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|oneOf:"+_vm.countries.map((function(c){return c.name})).join(",")},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("SfSelect",{staticClass:"form__select sf-select--underlined",attrs:{"data-cy":"billing-details-select_country",name:"country",label:"Country",required:"",valid:!errors[0],errorMessage:errors[0]},model:{value:_vm.form.country,callback:function($$v){_vm.$set(_vm.form,"country",$$v)},expression:"form.country"}},_vm._l(_vm.countries,(function(ref){var name=ref.name,label=ref.label;return _c("SfSelectOption",{key:name,attrs:{value:name}},[_vm._v("\n            "+_vm._s(label)+"\n          ")])})),1)]}}],null,!0)})],1),_vm._v(" "),_c("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|min:8"},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("SfInput",{attrs:{"data-cy":"billing-details-input_phoneNumber",name:"phone",label:"Phone number",required:"",valid:!errors[0],errorMessage:errors[0]},model:{value:_vm.form.phone,callback:function($$v){_vm.$set(_vm.form,"phone",$$v)},expression:"form.phone"}})]}}],null,!0)}),_vm._v(" "),_c("SfCheckbox",{staticClass:"form__checkbox-isDefault",attrs:{"data-cy":"billing-details-checkbox_isDefault",name:"isDefault",label:"Set as default"},model:{value:_vm.form.isDefault,callback:function($$v){_vm.$set(_vm.form,"isDefault",$$v)},expression:"form.isDefault"}}),_vm._v(" "),_c("SfButton",{staticClass:"form__button",attrs:{"data-cy":"billing-details-btn_update"}},[_vm._v("\n      "+_vm._s(_vm.isNew?"Add the address":"Update the address")+"\n    ")])],1)]}}])})}),[],!1,null,"31605a0b",null).exports;var BillingAddressForm=BillingAddressForm_vuedocgen_export_0;BillingAddressForm_vuedocgen_export_0.__docgenInfo={displayName:"BillingAddressForm",exportName:"default",description:"",tags:{},props:[{name:"address",type:{name:"object"},defaultValue:{func:!1,value:"{\n  id: undefined,\n  firstName: '',\n  lastName: '',\n  streetName: '',\n  apartment: '',\n  city: '',\n  state: '',\n  postalCode: '',\n  country: '',\n  phone: '',\n  isDefault: false\n}"}},{name:"isNew",type:{name:"boolean"},required:!0}]};var lib_index_es=__webpack_require__(38),MyAccount_BillingDetailsvue_type_script_lang_js_={name:"BillingDetails",components:{SfTabs:SfTabs.a,SfButton:SfButton.a,SfIcon:SfIcon.a,UserBillingAddress:UserBillingAddress,BillingAddressForm:BillingAddressForm},setup:function setup(){var _useUserBilling=Object(lib_index_es.n)(),billing=_useUserBilling.billing,loadUserBilling=_useUserBilling.load,addAddress=_useUserBilling.addAddress,deleteAddress=_useUserBilling.deleteAddress,updateAddress=_useUserBilling.updateAddress,addresses=Object(vue_composition_api_esm.computed)((function(){return lib_index_es.r.getAddresses(billing.value)})),edittingAddress=Object(vue_composition_api_esm.ref)(!1),activeAddress=Object(vue_composition_api_esm.ref)(void 0),isNewAddress=Object(vue_composition_api_esm.computed)((function(){return!activeAddress.value})),saveAddress=function(){var _ref2=Object(asyncToGenerator.a)(regeneratorRuntime.mark((function _callee(_ref){var form,onComplete,onError,actionMethod,data;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return form=_ref.form,onComplete=_ref.onComplete,onError=_ref.onError,_context.prev=1,actionMethod=isNewAddress.value?addAddress:updateAddress,_context.next=5,actionMethod({address:form});case 5:return data=_context.sent,edittingAddress.value=!1,activeAddress.value=void 0,_context.next=10,onComplete(data);case 10:_context.next=15;break;case 12:_context.prev=12,_context.t0=_context.catch(1),onError(_context.t0);case 15:case"end":return _context.stop()}}),_callee,null,[[1,12]])})));return function saveAddress(_x){return _ref2.apply(this,arguments)}}();return Object(index_es.onSSR)(Object(asyncToGenerator.a)(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,loadUserBilling();case 2:case"end":return _context2.stop()}}),_callee2)})))),{changeAddress:function changeAddress(){var address=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;activeAddress.value=address,edittingAddress.value=!0},updateAddress:updateAddress,removeAddress:function removeAddress(address){return deleteAddress({address:address})},saveAddress:saveAddress,userBillingGetters:lib_index_es.r,addresses:addresses,edittingAddress:edittingAddress,activeAddress:activeAddress,isNewAddress:isNewAddress}}};__webpack_require__(3449);const BillingDetails_vuedocgen_export_0=Object(componentNormalizer.a)(MyAccount_BillingDetailsvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("transition",{attrs:{name:"fade"}},[_vm.edittingAddress?_c("SfTabs",{key:"edit-address",staticClass:"tab-orphan",attrs:{"open-tab":1}},[_c("SfTab",{attrs:{"data-cy":"billing-details-tab_change",title:_vm.isNewAddress?"Add the address":"Update the address"}},[_c("p",{staticClass:"message"},[_vm._v("\n        "+_vm._s(_vm.$t("Contact details updated"))+"\n      ")]),_vm._v(" "),_c("BillingAddressForm",{attrs:{address:_vm.activeAddress,isNew:_vm.isNewAddress},on:{submit:_vm.saveAddress}})],1)],1):_c("SfTabs",{key:"address-list",staticClass:"tab-orphan",attrs:{"open-tab":1}},[_c("SfTab",{attrs:{"data-cy":"billing-details-tab_details",title:"Billing details"}},[_c("p",{staticClass:"message"},[_vm._v("\n        "+_vm._s(_vm.$t("Manage billing addresses"))+"\n      ")]),_vm._v(" "),_c("transition-group",{staticClass:"billing-list",attrs:{tag:"div",name:"fade"}},_vm._l(_vm.addresses,(function(address){return _c("div",{key:_vm.userBillingGetters.getId(address),staticClass:"billing"},[_c("div",{staticClass:"billing__content"},[_c("div",{staticClass:"billing__address"},[_c("UserBillingAddress",{attrs:{address:address}})],1)]),_vm._v(" "),_c("div",{staticClass:"billing__actions"},[_c("SfIcon",{staticClass:"smartphone-only",attrs:{"data-cy":"billing-details-icon_delete",icon:"cross",color:"gray",size:"14px",role:"button"},on:{click:function($event){return _vm.removeAddress(address)}}}),_vm._v(" "),_c("SfButton",{attrs:{"data-cy":"billing-details-btn_change"},on:{click:function($event){return _vm.changeAddress(address)}}},[_vm._v("\n              "+_vm._s(_vm.$t("Change"))+"\n            ")]),_vm._v(" "),_c("SfButton",{staticClass:"color-light billing__button-delete desktop-only",attrs:{"data-cy":"billing-details-btn_delete"},on:{click:function($event){return _vm.removeAddress(address)}}},[_vm._v("\n              "+_vm._s(_vm.$t("Delete"))+"\n            ")])],1)])})),0),_vm._v(" "),_c("SfButton",{staticClass:"action-button",attrs:{"data-cy":"billing-details-btn_add"},on:{click:function($event){return _vm.changeAddress()}}},[_vm._v("\n        "+_vm._s(_vm.$t("Add new address"))+"\n      ")])],1)],1)],1)}),[],!1,null,"70ca9a82",null).exports;__webpack_exports__.default=BillingDetails_vuedocgen_export_0;BillingDetails_vuedocgen_export_0.__docgenInfo={displayName:"BillingDetails",exportName:"default",description:"",tags:{}}}}]);
//# sourceMappingURL=BillingDetails.e42571918c486c07d047.bundle.js.map